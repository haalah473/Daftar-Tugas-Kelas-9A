<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Website Manajemen Tugas Kelas ğŸ“š</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Poppins", sans-serif;
        background: linear-gradient(135deg, #667eea, #764ba2);
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
      }

      header {
        text-align: center;
        padding: 40px 20px;
        background: white;
        border-radius: 15px;
        margin: 30px;
        width: 90%;
        max-width: 800px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      h1 {
        font-size: 2.8em;
        background: linear-gradient(45deg, #667eea, #764ba2);

        background-clip: text; /* standar (Firefox terbaru) */
        -webkit-background-clip: text; /* Chrome, Safari */

        color: transparent; /* standar */
        -webkit-text-fill-color: transparent; /* Safari */
      }

      nav {
        margin: 20px;
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        justify-content: center;
      }

      nav button {
        padding: 12px 25px;
        border-radius: 25px;
        border: none;
        cursor: pointer;
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
        font-weight: 600;
      }

      .section {
        display: none;
        background: white;
        width: 90%;
        max-width: 900px;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        margin-bottom: 30px;
      }

      form {
        display: grid;
        gap: 15px;
      }

      input,
      textarea,
      button {
        padding: 12px;
        border-radius: 10px;
        border: 2px solid #ddd;
        font-family: inherit;
      }

      button {
        background: linear-gradient(45deg, #00d2d3, #54a0ff);
        color: white;
        font-weight: 600;
        cursor: pointer;
        border: none;
      }

      .task-list {
        list-style: none;
        padding: 0;
        display: grid;
        gap: 20px;
      }

      .task-item {
        padding: 20px;
        border-radius: 15px;
        background: linear-gradient(135deg, #ffeaa7, #fab1a0);
      }

      .task-item.completed {
        background: linear-gradient(135deg, #55efc4, #00b894);
        opacity: 0.85;
      }

      .task-item.completed strong {
        text-decoration: line-through;
      }

      .task-item.overdue:not(.completed) {
        background: linear-gradient(135deg, #fab1a0, #e17055);
      }

      .task-actions {
        margin-top: 15px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .task-actions button {
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 0.9em;
      }

      .complete {
        background: #00b894;
      }

      .edit {
        background: #fdcb6e;
      }

      .delete {
        background: #d63031;
      }

      footer {
        margin-top: auto;
        background: white;
        width: 100%;
        text-align: center;
        padding: 15px;
        font-size: 0.9em;
      }
    </style>
  </head>

  <body>
    <header>
      <h1>ğŸ“š Daftar Tugas Kelas 9A</h1>
      <p>
        Website ini digunakan untuk mencatat dan mengelola tugas kelas secara
        bertanggung jawab.
      </p>
    </header>

    <nav>
      <button onclick="showSection('add')">â• Tambah Tugas</button>
      <button onclick="showSection('list')">ğŸ“‹ Lihat Tugas</button>
      <button onclick="showSection('about')">ğŸ‘¨â€ğŸ’» Tentang</button>
    </nav>

    <div id="add" class="section">
      <h2>â• Tambah Tugas</h2>
      <form id="task-form">
        <input id="name" type="text" placeholder="Nama Tugas" required />
        <textarea id="desc" placeholder="Deskripsi"></textarea>
        <input id="deadline" type="date" required />
        <button type="submit">Simpan</button>
      </form>
    </div>

    <div id="list" class="section">
      <h2>ğŸ“‹ Daftar Tugas</h2>
      <ul id="task-list" class="task-list"></ul>
    </div>

    <div id="about" class="section">
      <h2>ğŸ‘¨â€ğŸ’» Nawawi Coders</h2>
      <p>
        Website ini dibuat untuk membantu siswa kelas 9A mengelola tugas dengan
        rapi dan disiplin.
      </p>
    </div>

    <footer>
      Â© 2025 <strong>Nawawi Coders</strong> â€“ Manajemen Tugas Kelas 9A
    </footer>

    <script>
      let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
      let editIndex = -1;

      function showSection(id) {
        document
          .querySelectorAll(".section")
          .forEach((sec) => (sec.style.display = "none"));
        document.getElementById(id).style.display = "block";
        if (id === "list") renderTasks();
      }

      document.getElementById("task-form").addEventListener("submit", (e) => {
        e.preventDefault();

        const task = {
          name: name.value,
          desc: desc.value,
          deadline: deadline.value,
          completed: false,
        };

        if (editIndex >= 0) {
          tasks[editIndex] = task;
          editIndex = -1;
        } else {
          tasks.push(task);
        }

        localStorage.setItem("tasks", JSON.stringify(tasks));
        e.target.reset();
        showSection("list");
      });

      function autoCompleteTasks() {
        const today = new Date();
        today.setHours(0, 0, 0, 0);

        tasks.forEach((task) => {
          const due = new Date(task.deadline);
          due.setHours(0, 0, 0, 0);
          if (due <= today) task.completed = true;
        });

        localStorage.setItem("tasks", JSON.stringify(tasks));
      }

      function renderTasks() {
        autoCompleteTasks();

        const list = document.getElementById("task-list");
        list.innerHTML = "";

        tasks.forEach((task, i) => {
          const overdue = new Date(task.deadline) < new Date();
          const li = document.createElement("li");
          li.className = `task-item ${task.completed ? "completed" : ""} ${
            overdue ? "overdue" : ""
          }`;

          li.innerHTML = `
            <strong>${task.name}</strong><br>
            ${task.desc}<br>
            <small>Deadline: ${task.deadline}</small>

            <div class="task-actions">
              <button class="complete" onclick="toggle(${i})">
                ${task.completed ? "â†©ï¸ Belum" : "âœ… Selesai"}
              </button>
              <button class="edit" onclick="edit(${i})">âœï¸ Edit</button>
              <button class="delete" onclick="removeTask(${i})">ğŸ—‘ï¸ Hapus</button>
            </div>
          `;
          list.appendChild(li);
        });
      }

      function toggle(i) {
        tasks[i].completed = !tasks[i].completed;
        localStorage.setItem("tasks", JSON.stringify(tasks));
        renderTasks();
      }

      function edit(i) {
        name.value = tasks[i].name;
        desc.value = tasks[i].desc;
        deadline.value = tasks[i].deadline;
        editIndex = i;
        showSection("add");
      }

      function removeTask(i) {
        if (confirm("Yakin hapus tugas ini?")) {
          tasks.splice(i, 1);
          localStorage.setItem("tasks", JSON.stringify(tasks));
          renderTasks();
        }
      }

      window.onload = () => showSection("list");
    </script>
  </body>
</html>
